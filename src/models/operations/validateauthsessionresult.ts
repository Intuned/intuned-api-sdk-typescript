/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

export type ValidateAuthSessionResultGlobals = {
  /**
   * Your workspace ID. [How to find it](/docs/guides/general/how-to-get-a-workspace-id)?
   */
  workspaceId?: string | undefined;
};

export type ValidateAuthSessionResultRequest = {
  /**
   * Your project name. It is the name you provide when creating a project.
   */
  projectName: string;
  /**
   * Authentication session ID. You can obtain it from the Auth Sessions tab in your project details.
   */
  authSessionId: string;
  /**
   * The ID for the operation. This is obtained from the start request.
   */
  operationId: string;
};

export const ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status =
  {
    Failed: "failed",
  } as const;
export type ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status =
  ClosedEnum<
    typeof ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status
  >;

/**
 * Optional error code for more specific error identification
 */
export const ResponseBodyCode = {
  InternalServerError: "internal-server-error",
  ScriptProcessCrashed: "script-process-crashed",
  Unexpected: "unexpected",
  ScriptExecutionException: "script-execution-exception",
  ScriptNoValidOutputReceived: "script-no-valid-output-received",
  ResultTooBigError: "result-too-big-error",
  ScriptTimeout: "script-timeout",
  ScriptUnexpectedError: "script-unexpected-error",
  AuthCheckFailed: "auth-check-failed",
  AllAttemptsFailed: "all-attempts-failed",
  CheckAttemptsFailed: "check-attempts-failed",
  CreateAttemptsFailed: "create-attempts-failed",
  PostCreateCheckAttemptsFailed: "post-create-check-attempts-failed",
  ApiAttemptsFailed: "api-attempts-failed",
  OnepasswordIntegrationError: "onepassword-integration-error",
  JobRunTerminated: "job-run-terminated",
} as const;
/**
 * Optional error code for more specific error identification
 */
export type ResponseBodyCode = ClosedEnum<typeof ResponseBodyCode>;

export const ResponseBodyCategory = {
  Infrastructure: "infrastructure",
  Execution: "execution",
  Auth: "auth",
  User: "user",
  Billing: "billing",
} as const;
export type ResponseBodyCategory = ClosedEnum<typeof ResponseBodyCategory>;

export type ResponseBodyError = {
  /**
   * Error message describing the failure
   */
  message: string;
  /**
   * Optional error code for more specific error identification
   */
  code?: ResponseBodyCode | undefined;
  category: ResponseBodyCategory;
  retirable?: boolean | undefined;
  /**
   * Optional URL to documentation for this error
   */
  docUrl?: string | undefined;
  /**
   * Optional correlation ID for tracing the error in logs
   */
  correlationId?: string | undefined;
  details?: any | undefined;
};

export type Failed = {
  status:
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status;
  message: string;
  error: ResponseBodyError;
};

export const ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus =
  {
    InProgress: "in_progress",
  } as const;
export type ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus =
  ClosedEnum<
    typeof ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus
  >;

export type InProgress = {
  status:
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus;
  /**
   * Unique identifier for the run, nanoId of 21 characters
   */
  runId: string;
};

export const ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus =
  {
    Canceled: "canceled",
  } as const;
export type ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus =
  ClosedEnum<
    typeof ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus
  >;

export const ResponseBodyType = {
  AuthSessionValidateDependencyFailed:
    "auth-session-validate-dependency-failed",
  Terminated: "terminated",
  JobRunPaused: "job-run-paused",
  JobRunTerminated: "job-run-terminated",
  FailedToInitializeJobRun: "failed-to-initialize-job-run",
  ApiAccessDisabled: "api-access-disabled",
  CancelledUserAction: "cancelled-user-action",
} as const;
export type ResponseBodyType = ClosedEnum<typeof ResponseBodyType>;

export type ResponseBodyReason = {
  type: ResponseBodyType;
  message: string;
  /**
   * Optional URL to documentation for this error
   */
  docUrl?: string | undefined;
  details?: any | undefined;
};

export type Canceled = {
  status:
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus;
  message: string;
  reason: ResponseBodyReason;
};

export const ValidateAuthSessionResultResponseBodyStatus = {
  Pending: "pending",
} as const;
export type ValidateAuthSessionResultResponseBodyStatus = ClosedEnum<
  typeof ValidateAuthSessionResultResponseBodyStatus
>;

export type Pending = {
  status: ValidateAuthSessionResultResponseBodyStatus;
};

export const ResponseBodyStatus = {
  Done: "done",
} as const;
export type ResponseBodyStatus = ClosedEnum<typeof ResponseBodyStatus>;

export type Done = {
  status: ResponseBodyStatus;
  /**
   * The unique identifier for the authentication session
   */
  authSessionId: string;
};

/**
 * Get Auth session Validate result
 */
export type ValidateAuthSessionResultResponseBody =
  | Canceled
  | Failed
  | Done
  | InProgress
  | Pending;

/** @internal */
export type ValidateAuthSessionResultRequest$Outbound = {
  projectName: string;
  authSessionId: string;
  operationId: string;
};

/** @internal */
export const ValidateAuthSessionResultRequest$outboundSchema: z.ZodType<
  ValidateAuthSessionResultRequest$Outbound,
  z.ZodTypeDef,
  ValidateAuthSessionResultRequest
> = z.object({
  projectName: z.string(),
  authSessionId: z.string(),
  operationId: z.string(),
});

export function validateAuthSessionResultRequestToJSON(
  validateAuthSessionResultRequest: ValidateAuthSessionResultRequest,
): string {
  return JSON.stringify(
    ValidateAuthSessionResultRequest$outboundSchema.parse(
      validateAuthSessionResultRequest,
    ),
  );
}

/** @internal */
export const ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status$inboundSchema:
  z.ZodNativeEnum<
    typeof ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status
  > = z.nativeEnum(
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status,
  );

/** @internal */
export const ResponseBodyCode$inboundSchema: z.ZodNativeEnum<
  typeof ResponseBodyCode
> = z.nativeEnum(ResponseBodyCode);

/** @internal */
export const ResponseBodyCategory$inboundSchema: z.ZodNativeEnum<
  typeof ResponseBodyCategory
> = z.nativeEnum(ResponseBodyCategory);

/** @internal */
export const ResponseBodyError$inboundSchema: z.ZodType<
  ResponseBodyError,
  z.ZodTypeDef,
  unknown
> = z.object({
  message: z.string(),
  code: ResponseBodyCode$inboundSchema.optional(),
  category: ResponseBodyCategory$inboundSchema,
  retirable: z.boolean().default(false),
  doc_url: z.string().optional(),
  correlation_id: z.string().optional(),
  details: z.any().optional(),
}).transform((v) => {
  return remap$(v, {
    "doc_url": "docUrl",
    "correlation_id": "correlationId",
  });
});

export function responseBodyErrorFromJSON(
  jsonString: string,
): SafeParseResult<ResponseBodyError, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ResponseBodyError$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ResponseBodyError' from JSON`,
  );
}

/** @internal */
export const Failed$inboundSchema: z.ZodType<Failed, z.ZodTypeDef, unknown> = z
  .object({
    status:
      ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponse200Status$inboundSchema,
    message: z.string(),
    error: z.lazy(() => ResponseBodyError$inboundSchema),
  });

export function failedFromJSON(
  jsonString: string,
): SafeParseResult<Failed, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Failed$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Failed' from JSON`,
  );
}

/** @internal */
export const ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus$inboundSchema:
  z.ZodNativeEnum<
    typeof ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus
  > = z.nativeEnum(
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus,
  );

/** @internal */
export const InProgress$inboundSchema: z.ZodType<
  InProgress,
  z.ZodTypeDef,
  unknown
> = z.object({
  status:
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateResponseStatus$inboundSchema,
  runId: z.string(),
});

export function inProgressFromJSON(
  jsonString: string,
): SafeParseResult<InProgress, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => InProgress$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'InProgress' from JSON`,
  );
}

/** @internal */
export const ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus$inboundSchema:
  z.ZodNativeEnum<
    typeof ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus
  > = z.nativeEnum(
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus,
  );

/** @internal */
export const ResponseBodyType$inboundSchema: z.ZodNativeEnum<
  typeof ResponseBodyType
> = z.nativeEnum(ResponseBodyType);

/** @internal */
export const ResponseBodyReason$inboundSchema: z.ZodType<
  ResponseBodyReason,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: ResponseBodyType$inboundSchema,
  message: z.string(),
  doc_url: z.string().optional(),
  details: z.any().optional(),
}).transform((v) => {
  return remap$(v, {
    "doc_url": "docUrl",
  });
});

export function responseBodyReasonFromJSON(
  jsonString: string,
): SafeParseResult<ResponseBodyReason, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ResponseBodyReason$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ResponseBodyReason' from JSON`,
  );
}

/** @internal */
export const Canceled$inboundSchema: z.ZodType<
  Canceled,
  z.ZodTypeDef,
  unknown
> = z.object({
  status:
    ValidateAuthSessionResultResponseBodyProjectAuthSessionsValidateStatus$inboundSchema,
  message: z.string(),
  reason: z.lazy(() => ResponseBodyReason$inboundSchema),
});

export function canceledFromJSON(
  jsonString: string,
): SafeParseResult<Canceled, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Canceled$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Canceled' from JSON`,
  );
}

/** @internal */
export const ValidateAuthSessionResultResponseBodyStatus$inboundSchema:
  z.ZodNativeEnum<typeof ValidateAuthSessionResultResponseBodyStatus> = z
    .nativeEnum(ValidateAuthSessionResultResponseBodyStatus);

/** @internal */
export const Pending$inboundSchema: z.ZodType<Pending, z.ZodTypeDef, unknown> =
  z.object({
    status: ValidateAuthSessionResultResponseBodyStatus$inboundSchema,
  });

export function pendingFromJSON(
  jsonString: string,
): SafeParseResult<Pending, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Pending$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Pending' from JSON`,
  );
}

/** @internal */
export const ResponseBodyStatus$inboundSchema: z.ZodNativeEnum<
  typeof ResponseBodyStatus
> = z.nativeEnum(ResponseBodyStatus);

/** @internal */
export const Done$inboundSchema: z.ZodType<Done, z.ZodTypeDef, unknown> = z
  .object({
    status: ResponseBodyStatus$inboundSchema,
    authSessionId: z.string(),
  });

export function doneFromJSON(
  jsonString: string,
): SafeParseResult<Done, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Done$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Done' from JSON`,
  );
}

/** @internal */
export const ValidateAuthSessionResultResponseBody$inboundSchema: z.ZodType<
  ValidateAuthSessionResultResponseBody,
  z.ZodTypeDef,
  unknown
> = z.union([
  z.lazy(() => Canceled$inboundSchema),
  z.lazy(() => Failed$inboundSchema),
  z.lazy(() => Done$inboundSchema),
  z.lazy(() => InProgress$inboundSchema),
  z.lazy(() => Pending$inboundSchema),
]);

export function validateAuthSessionResultResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<ValidateAuthSessionResultResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      ValidateAuthSessionResultResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ValidateAuthSessionResultResponseBody' from JSON`,
  );
}
